```html
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PMC - Project Management Console</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <nav id="mainNav" class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">PMC</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul id="nav-items" class="navbar-nav me-auto mb-2 mb-lg-0" style="display: none;">
          <li class="nav-item"><a class="nav-link active" href="#dashboard-section" data-section="dashboard-section">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="#projects-section" data-section="projects-section">Dự án</a></li>
          <li class="nav-item"><a class="nav-link" href="#tasks-section" data-section="tasks-section">Công việc</a></li>
          <li class="nav-item"><a class="nav-link" href="#reports-section" data-section="reports-section">Báo cáo</a></li>
        </ul>
        <div id="user-info" class="d-flex align-items-center" style="display: none;">
          <span id="user-name" class="me-3"></span>
          <button id="signOutBtn" class="btn btn-outline-danger">Đăng xuất</button>
        </div>
      </div>
    </div>
  </nav>

  <main class="container mt-5 pt-5">
    <section id="login-section" class="row">
      <div class="col-md-6 offset-md-3">
        <div class="card">
          <div class="card-body text-center">
            <h3>Đăng nhập để sử dụng hệ thống</h3>
            <p>Sử dụng Gmail đã được phê duyệt</p>
            <button id="loginBtn" class="btn btn-primary">Đăng nhập bằng Google</button>
            <div id="login-error" class="alert alert-danger d-none mt-3">Lỗi khi kiểm tra người dùng. Vui lòng thử lại.</div>
          </div>
        </div>
      </div>
    </section>

    <section id="dashboard-section" style="display: none;">
      <h2>Tổng quan</h2>
      <div id="dashboard-cards" class="row mb-4"></div>
      <h4>Công việc hôm nay</h4>
      <div id="dashboard-today-tasks" class="row"></div>
    </section>

    <section id="projects-section" style="display: none;">
      <h2>Quản lý dự án</h2>
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="projectFilter">Lọc theo trạng thái:</label>
          <select id="projectFilter" class="form-select">
            <option value="all">Tất cả</option>
            <option value="dang thuc hien">Đang thực hiện</option>
            <option value="da hoan thanh">Đã hoàn thành</option>
            <option value="tam dung">Tạm dừng</option>
          </select>
        </div>
      </div>
      <button id="createProjectBtn" class="btn btn-primary mb-3">Tạo dự án mới</button>
      <div class="table-responsive">
        <table id="projectsTable" class="table table-striped">
          <thead>
            <tr>
              <th>Mã dự án</th>
              <th>Tên dự án</th>
              <th>Khách hàng</th>
              <th>Ngày bắt đầu</th>
              <th>Ngày kết thúc</th>
              <th>Trạng thái</th>
              <th>Tiến độ (%)</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="modal fade" id="projectModal" tabindex="-1" aria-labelledby="projectModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="projectModalLabel">Tạo Dự án</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="projectForm">
                <input type="hidden" id="projectIdInput">
                <div class="mb-3">
                  <label for="projectNameInput" class="form-label">Tên dự án</label>
                  <input type="text" class="form-control" id="projectNameInput">
                </div>
                <div class="mb-3">
                  <label for="clientNameInput" class="form-label">Khách hàng</label>
                  <input type="text" class="form-control" id="clientNameInput">
                </div>
                <div class="mb-3">
                  <label for="startDateInput" class="form-label">Ngày bắt đầu</label>
                  <input type="date" class="form-control" id="startDateInput">
                </div>
                <div class="mb-3">
                  <label for="endDateInput" class="form-label">Ngày kết thúc</label>
                  <input type="date" class="form-control" id="endDateInput">
                </div>
                <div class="mb-3">
                  <label for="projectStatusInput" class="form-label">Trạng thái</label>
                  <select id="projectStatusInput" class="form-select">
                    <option value="dang thuc hien">Đang thực hiện</option>
                    <option value="da hoan thanh">Đã hoàn thành</option>
                    <option value="tam dung">Tạm dừng</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="projectProgressInput" class="form-label">Tiến độ (%)</label>
                  <input type="number" class="form-control" id="projectProgressInput" min="0" max="100">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
              <button type="button" class="btn btn-primary" id="saveProjectBtn">Lưu</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="tasks-section" style="display: none;">
      <h2>Quản lý công việc</h2>
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="taskFilter">Lọc theo trạng thái:</label>
          <select id="taskFilter" class="form-select">
            <option value="all">Tất cả</option>
            <option value="chua lam">Chưa làm</option>
            <option value="dang lam">Đang làm</option>
            <option value="hoan thanh">Hoàn thành</option>
          </select>
        </div>
      </div>
      <button id="createTaskBtn" class="btn btn-primary mb-3">Tạo công việc mới</button>
      <div class="table-responsive">
        <table id="tasksTable" class="table table-striped">
          <thead>
            <tr>
              <th>Mã CV</th>
              <th>Dự án</th>
              <th>Tên công việc</th>
              <th>Người thực hiện</th>
              <th>Deadline</th>
              <th>Trạng thái</th>
              <th>Tiến độ (%)</th>
              <th>Số giờ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="taskModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="taskModalLabel">Tạo Công việc</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="taskForm">
                <input type="hidden" id="taskIdInput">
                <div class="mb-3">
                  <label for="taskProjectSelect" class="form-label">Dự án</label>
                  <select id="taskProjectSelect" class="form-select"></select>
                </div>
                <div class="mb-3">
                  <label for="taskNameInput" class="form-label">Tên công việc</label>
                  <input type="text" class="form-control" id="taskNameInput">
                </div>
                <div class="mb-3">
                  <label for="taskAssigneeSelect" class="form-label">Người thực hiện</label>
                  <select id="taskAssigneeSelect" class="form-select"></select>
                </div>
                <div class="mb-3">
                  <label for="taskDueDateInput" class="form-label">Deadline</label>
                  <input type="date" class="form-control" id="taskDueDateInput">
                </div>
                <div class="mb-3">
                  <label for="taskStatusInput" class="form-label">Trạng thái</label>
                  <select id="taskStatusInput" class="form-select">
                    <option value="chua lam">Chưa làm</option>
                    <option value="dang lam">Đang làm</option>
                    <option value="hoan thanh">Hoàn thành</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="taskProgressInput" class="form-label">Tiến độ (%)</label>
                  <input type="number" class="form-control" id="taskProgressInput" min="0" max="100">
                </div>
                <div class="mb-3">
                  <label for="taskHoursWorkedInput" class="form-label">Số giờ làm việc</label>
                  <input type="number" class="form-control" id="taskHoursWorkedInput" min="0" step="0.5">
                </div>
                <div class="mb-3">
                  <label for="taskNoteInput" class="form-label">Ghi chú</label>
                  <textarea class="form-control" id="taskNoteInput" rows="4"></textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
              <button type="button" class="btn btn-primary" id="saveTaskBtn">Lưu</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="reports-section" style="display: none;">
      <h2>Báo cáo</h2>
      <div class="mb-3">
        <button id="createReportBtn" class="btn btn-primary me-2">Gửi báo cáo tuần</button>
        <button id="createDailyReportBtn" class="btn btn-primary me-2">Gửi báo cáo ngày</button>
        <div id="exportButtons" class="d-inline-block d-none">
          <button id="exportCsvBtn" class="btn btn-secondary me-2">Xuất CSV</button>
          <button id="exportPdfBtn" class="btn btn-secondary">Xuất PDF</button>
        </div>
        <div id="analysisButtons" class="d-inline-block d-none">
          <button id="employeeSummaryBtn" class="btn btn-info me-2">Tổng hợp theo nhân viên</button>
          <button id="projectSummaryBtn" class="btn btn-info">Tổng hợp theo dự án</button>
        </div>
      </div>
      <div class="table-responsive">
        <table id="reportsTable" class="table table-striped">
          <thead>
            <tr>
              <th>Người báo cáo</th>
              <th>Tuần</th>
              <th>Năm</th>
              <th>Dự án</th>
              <th>Công việc hoàn thành</th>
              <th>Kế hoạch tuần tới</th>
              <th>Số giờ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="reportModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="reportModalLabel">Gửi Báo cáo tuần</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="reportForm">
                <div class="mb-3">
                  <label for="reportProjectSelect" class="form-label">Dự án</label>
                  <select id="reportProjectSelect" class="form-select"></select>
                </div>
                <div class="mb-3">
                  <label for="weekNumberInput" class="form-label">Tuần thứ</label>
                  <input type="number" class="form-control" id="weekNumberInput" min="1" max="52">
                </div>
                <div class="mb-3">
                  <label for="reportYearInput" class="form-label">Năm</label>
                  <input type="number" class="form-control" id="reportYearInput" min="2000">
                </div>
                <div class="mb-3">
                  <label for="tasksCompletedInput" class="form-label">Công việc hoàn thành</label>
                  <textarea class="form-control" id="tasksCompletedInput" rows="4"></textarea>
                </div>
                <div class="mb-3">
                  <label for="nextWeekPlanInput" class="form-label">Kế hoạch tuần tới</label>
                  <textarea class="form-control" id="nextWeekPlanInput" rows="4"></textarea>
                </div>
                <div class="mb-3">
                  <label for="reportHoursWorkedInput" class="form-label">Số giờ làm việc</label>
                  <input type="number" class="form-control" id="reportHoursWorkedInput" min="0" step="0.5">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
              <button type="button" class="btn btn-primary" id="saveReportBtn">Gửi</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="dailyReportModal" tabindex="-1" aria-labelledby="dailyReportModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="dailyReportModalLabel">Gửi Báo cáo ngày</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="dailyReportForm">
                <div class="mb-3">
                  <label for="dailyReportProjectSelect" class="form-label">Dự án</label>
                  <select id="dailyReportProjectSelect" class="form-select"></select>
                </div>
                <div class="mb-3">
                  <label for="dailyReportDateInput" class="form-label">Ngày</label>
                  <input type="date" class="form-control" id="dailyReportDateInput">
                </div>
                <div class="mb-3">
                  <label for="dailyTasksCompletedInput" class="form-label">Công việc hoàn thành</label>
                  <textarea class="form-control" id="dailyTasksCompletedInput" rows="4"></textarea>
                </div>
                <div class="mb-3">
                  <label for="dailyReportHoursWorkedInput" class="form-label">Số giờ làm việc</label>
                  <input type="number" class="form-control" id="dailyReportHoursWorkedInput" min="0" step="0.5">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
              <button type="button" class="btn btn-primary" id="saveDailyReportBtn">Gửi</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="text-center mt-5">
      <p>© 2025 PMC. Thiết kế dành riêng cho nội bộ.</p>
    </footer>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
```

### Changes to `index.html`
- **Login Error Display**: The `login-error` div now includes the specific error message "Lỗi khi kiểm tra người dùng. Vui lòng thử lại." to match the screenshot. This is shown by default (`d-none` is removed in `script.js` when an error occurs).
- **No Structural Changes**: The rest of the `index.html` remains unchanged as it already aligns with the updated `script.js` and database schema. The login page in the screenshot confirms the initial state before authentication succeeds.

### Additional Considerations
- **Timestamp Context**: Since it’s 11:08 PM on July 30, 2025, ensure the system clock on the server and client matches this time zone (+07) to avoid date-related issues in reports or tasks.
- **Next Steps**: After resolving the authentication error, the application should proceed to the dashboard section. Test the updated features (weekly/daily reports, analysis buttons) once logged in.
- **Documentation**: The screenshot’s footer ("© 2025 PMC. Thiết kế dành riêng cho nội bộ.") matches the HTML, confirming the version consistency.

### Response to Image Explanation
The image’s explanation (e.g., "Reports Section Updates", "Daily Report Modal") aligns with the previous `index.html` updates. No further changes are needed based on the screenshot, as it only shows the login state. The suggested future enhancements (e.g., interactive charts) can be implemented later if desired.

If you need help debugging the authentication issue further or want to add visual enhancements (e.g., charts for analysis), let me know!
